sample:
  name: app-led-demo
tests:
  samples.app_led.demo:
    build_only: true
    tags: samples demo led app_led stm32
    type: integration
  #   integration_platforms:
  #     - stm32f4_disco
  #   # harness: console
  #   # harness_config:
  #   #   type: multi_line
  #   #   ordered: true
  #   #   # regex:
  #   #   #   - "Zephyros App_LED Demo Application Started"
  #   #   #   - "App LED module initialization failed: (.*)" # Fail if this appears
  #   #   #   - "Setting mode to Manual and color to Red"   # Check it reaches the first step
  #   #   #   - "Setting color to Green"                    # Check it reaches the second step
  #   fixtures:
  #     variants: test_gpio test_pwm test_ws2812b
  #
  # samples.app_led.demo.gpio:
  #   variant: test_gpio
  #   extra_args: CONFIG_GPIO=y CONFIG_LED=y
  #   extra_dtc_overlay_files:
  #     - boards/stm32f4_disco_gpio.overlay
  #
  # samples.app_led.demo.pwm:
  #   variant: test_pwm
  #   extra_args: CONFIG_PWM=y CONFIG_LED=y CONFIG_LED_PWM=y
  #   extra_dtc_overlay_files:
  #     - boards/stm32f4_disco_pwm.overlay
  #
  # samples.app_led.demo.ws2812b:
  #   variant: test_ws2812b
  #   extra_args: >
  #     CONFIG_SPI=y
  #     CONFIG_LED_STRIP=y
  #     CONFIG_WS2812_STRIP_SPI=y
  #   extra_dtc_overlay_files:
  #     - boards/stm32f4_disco_ws2812b.overlay
